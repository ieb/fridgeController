EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Text GLabel 2300 4000 0    60   Input ~ 0
5v
Text GLabel 6000 3000 2    60   Output ~ 0
PWM
Text GLabel 6000 3600 2    60   BiDi ~ 0
1wire
Text GLabel 2300 1800 0    60   Input ~ 0
BAT
$Comp
L ESP32Dev U101
U 1 1 64F0426B
P 4100 2700
F 0 "U101" H 4000 2350 60  0000 C CNN
F 1 "ESP32Dev" H 4000 2350 60  0000 C CNN
F 2 "Divers:ESP32Dev" H 4000 2350 60  0001 C CNN
F 3 "" H 4000 2350 60  0001 C CNN
	1    4100 2700
	1    0    0    -1  
$EndComp
Text GLabel 6000 4000 2    60   Output ~ 0
3v3
Text GLabel 9450 1300 0    60   Output ~ 0
5v
Text GLabel 9450 1100 0    60   Input ~ 0
12v
$Comp
L GND #PWR01
U 1 1 64F044F5
P 9450 1200
F 0 "#PWR01" H 9450 1200 30  0001 C CNN
F 1 "GND" H 9450 1130 30  0001 C CNN
F 2 "" H 9450 1200 60  0001 C CNN
F 3 "" H 9450 1200 60  0001 C CNN
	1    9450 1200
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR02
U 1 1 64F0450A
P 6000 3800
F 0 "#PWR02" H 6000 3800 30  0001 C CNN
F 1 "GND" H 6000 3730 30  0001 C CNN
F 2 "" H 6000 3800 60  0001 C CNN
F 3 "" H 6000 3800 60  0001 C CNN
	1    6000 3800
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR03
U 1 1 64F0451B
P 2300 3800
F 0 "#PWR03" H 2300 3800 30  0001 C CNN
F 1 "GND" H 2300 3730 30  0001 C CNN
F 2 "" H 2300 3800 60  0001 C CNN
F 3 "" H 2300 3800 60  0001 C CNN
	1    2300 3800
	1    0    0    -1  
$EndComp
$Comp
L CONN_3 K101
U 1 1 64F0452E
P 8050 2700
F 0 "K101" V 8000 2700 50  0000 C CNN
F 1 "1Wire" V 8100 2700 40  0000 C CNN
F 2 "Connect:bornier3" H 8050 2700 60  0001 C CNN
F 3 "" H 8050 2700 60  0001 C CNN
	1    8050 2700
	1    0    0    -1  
$EndComp
Text GLabel 7300 2700 0    60   BiDi ~ 0
1wire
$Comp
L GND #PWR04
U 1 1 64F0458C
P 7700 2700
F 0 "#PWR04" H 7700 2700 30  0001 C CNN
F 1 "GND" H 7700 2630 30  0001 C CNN
F 2 "" H 7700 2700 60  0001 C CNN
F 3 "" H 7700 2700 60  0001 C CNN
	1    7700 2700
	1    0    0    -1  
$EndComp
Text GLabel 7250 2200 0    60   Input ~ 0
3v3
$Comp
L R R106
U 1 1 64F045C9
P 7500 2450
F 0 "R106" V 7580 2450 40  0000 C CNN
F 1 "4K7" V 7507 2451 40  0000 C CNN
F 2 "Resistors_SMD:R_0805_HandSoldering" V 7430 2450 30  0001 C CNN
F 3 "" H 7500 2450 30  0000 C CNN
	1    7500 2450
	1    0    0    -1  
$EndComp
Wire Wire Line
	7250 2200 7700 2200
Wire Wire Line
	7700 2200 7700 2600
Connection ~ 7500 2200
$Comp
L R R103
U 1 1 64F04610
P 7400 3750
F 0 "R103" V 7480 3750 40  0000 C CNN
F 1 "10K" V 7407 3751 40  0000 C CNN
F 2 "Resistors_SMD:R_0805_HandSoldering" V 7330 3750 30  0001 C CNN
F 3 "" H 7400 3750 30  0000 C CNN
	1    7400 3750
	1    0    0    -1  
$EndComp
$Comp
L R R104
U 1 1 64F04640
P 7400 4350
F 0 "R104" V 7480 4350 40  0000 C CNN
F 1 "1K" V 7407 4351 40  0000 C CNN
F 2 "Resistors_SMD:R_0805_HandSoldering" V 7330 4350 30  0001 C CNN
F 3 "" H 7400 4350 30  0000 C CNN
	1    7400 4350
	1    0    0    -1  
$EndComp
$Comp
L R R105
U 1 1 64F0466B
P 7400 5000
F 0 "R105" V 7480 5000 40  0000 C CNN
F 1 "2K2" V 7407 5001 40  0000 C CNN
F 2 "Resistors_SMD:R_0805_HandSoldering" V 7330 5000 30  0001 C CNN
F 3 "" H 7400 5000 30  0000 C CNN
	1    7400 5000
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR05
U 1 1 64F04699
P 7400 5400
F 0 "#PWR05" H 7400 5400 30  0001 C CNN
F 1 "GND" H 7400 5330 30  0001 C CNN
F 2 "" H 7400 5400 60  0001 C CNN
F 3 "" H 7400 5400 60  0001 C CNN
	1    7400 5400
	1    0    0    -1  
$EndComp
Wire Wire Line
	7400 4600 7400 4750
Wire Wire Line
	7400 4000 7400 4100
Text GLabel 7400 3500 0    60   Input ~ 0
12v
Wire Wire Line
	7400 5250 7400 5400
$Comp
L C C101
U 1 1 64F04705
P 7150 5050
F 0 "C101" H 7150 5150 40  0000 L CNN
F 1 "C" H 7156 4965 40  0000 L CNN
F 2 "Capacitors_SMD:C_0805_HandSoldering" H 7188 4900 30  0001 C CNN
F 3 "" H 7150 5050 60  0000 C CNN
	1    7150 5050
	1    0    0    -1  
$EndComp
Wire Wire Line
	7150 4850 7150 4700
Wire Wire Line
	7150 4700 7400 4700
Connection ~ 7400 4700
Wire Wire Line
	7150 5250 7150 5350
Wire Wire Line
	7150 5350 7400 5350
Connection ~ 7400 5350
Text GLabel 7150 4700 0    60   Output ~ 0
BAT
Text GLabel 8800 2600 0    60   Input ~ 0
12v
Text GLabel 7950 3200 0    60   Input ~ 0
PWM
$Comp
L BC817-40 Q101
U 1 1 64F04885
P 8650 3200
F 0 "Q101" H 8650 3051 40  0000 R CNN
F 1 "BC817-40" H 8650 3350 40  0000 R CNN
F 2 "TO_SOT_Packages_SMD:SOT-23" H 8450 3302 29  0000 C CNN
F 3 "" H 8650 3200 60  0000 C CNN
	1    8650 3200
	1    0    0    -1  
$EndComp
$Comp
L CONN_3 K102
U 1 1 64F0492E
P 9450 2700
F 0 "K102" V 9400 2700 50  0000 C CNN
F 1 "Compressor" V 9500 2700 40  0000 C CNN
F 2 "Connect:bornier3" H 9450 2700 60  0001 C CNN
F 3 "" H 9450 2700 60  0001 C CNN
	1    9450 2700
	1    0    0    -1  
$EndComp
Wire Wire Line
	8800 2600 9100 2600
Wire Wire Line
	8750 3000 8750 2700
Wire Wire Line
	8750 2700 9100 2700
$Comp
L GND #PWR06
U 1 1 64F049BD
P 8950 3500
F 0 "#PWR06" H 8950 3500 30  0001 C CNN
F 1 "GND" H 8950 3430 30  0001 C CNN
F 2 "" H 8950 3500 60  0001 C CNN
F 3 "" H 8950 3500 60  0001 C CNN
	1    8950 3500
	1    0    0    -1  
$EndComp
Wire Wire Line
	9100 2800 8950 2800
Wire Wire Line
	8950 2800 8950 3500
Wire Wire Line
	8750 3400 8750 3450
Wire Wire Line
	8750 3450 8950 3450
Connection ~ 8950 3450
$Comp
L R R108
U 1 1 64F36062
P 8200 3200
F 0 "R108" V 8280 3200 40  0000 C CNN
F 1 "4K7" V 8207 3201 40  0000 C CNN
F 2 "Resistors_SMD:R_0805_HandSoldering" V 8130 3200 30  0001 C CNN
F 3 "" H 8200 3200 30  0000 C CNN
	1    8200 3200
	0    1    1    0   
$EndComp
Wire Wire Line
	7300 2700 7500 2700
Connection ~ 7500 2700
$Comp
L DCBuck U102
U 1 1 64F4617C
P 10150 1150
F 0 "U102" H 10150 1150 60  0000 C CNN
F 1 "DCBuck" H 10150 1150 60  0000 C CNN
F 2 "Divers:DCBuckModule" H 10150 1150 60  0001 C CNN
F 3 "" H 10150 1150 60  0001 C CNN
	1    10150 1150
	1    0    0    -1  
$EndComp
$Comp
L CONN_8 P101
U 1 1 64F46322
P 7600 1550
F 0 "P101" V 7550 1550 60  0000 C CNN
F 1 "Nokia5110" V 7650 1550 60  0000 C CNN
F 2 "Pin_Headers:Pin_Header_Straight_1x08" H 7600 1550 60  0001 C CNN
F 3 "" H 7600 1550 60  0001 C CNN
	1    7600 1550
	1    0    0    -1  
$EndComp
Text GLabel 7250 1200 0    60   Output ~ 0
RST
Text GLabel 7250 1300 0    60   Output ~ 0
CE
Text GLabel 7250 1400 0    60   Output ~ 0
DC
Text GLabel 7250 1500 0    60   Input ~ 0
DIN
Text GLabel 7250 1600 0    60   Input ~ 0
CLK
Text GLabel 7250 1700 0    60   Output ~ 0
3v3
Text GLabel 7250 1800 0    60   Input ~ 0
BL
$Comp
L GND #PWR07
U 1 1 64F46693
P 7250 1900
F 0 "#PWR07" H 7250 1900 30  0001 C CNN
F 1 "GND" H 7250 1830 30  0001 C CNN
F 2 "" H 7250 1900 60  0001 C CNN
F 3 "" H 7250 1900 60  0001 C CNN
	1    7250 1900
	1    0    0    -1  
$EndComp
Text Notes 6900 900  0    60   ~ 0
BL controlled by PWM, but it can draw 80mA, so perhaps not.\n\n
Text GLabel 6000 1200 2    60   Output ~ 0
DIN
Text GLabel 6000 2400 2    60   Output ~ 0
CLK
Text GLabel 6300 1350 2    60   Output ~ 0
CE
Text GLabel 6250 1950 2    60   Output ~ 0
DC
Text GLabel 6000 2600 2    60   Output ~ 0
RST
Text GLabel 6000 2800 2    60   Output ~ 0
BL
$Comp
L GND #PWR08
U 1 1 64F474DE
P 8650 1950
F 0 "#PWR08" H 8650 1950 30  0001 C CNN
F 1 "GND" H 8650 1880 30  0001 C CNN
F 2 "" H 8650 1950 60  0001 C CNN
F 3 "" H 8650 1950 60  0001 C CNN
	1    8650 1950
	1    0    0    -1  
$EndComp
Wire Wire Line
	6850 1000 6750 1000
Wire Wire Line
	6750 1000 6750 1050
Wire Wire Line
	7500 2700 7500 2800
Wire Wire Line
	7500 2800 7700 2800
Text GLabel 6000 3200 2    60   Input ~ 0
BTN
$Comp
L R R101
U 1 1 64F488A7
P 4150 4850
F 0 "R101" V 4230 4850 40  0000 C CNN
F 1 "10K" V 4157 4851 40  0000 C CNN
F 2 "Resistors_SMD:R_0805_HandSoldering" V 4080 4850 30  0001 C CNN
F 3 "" H 4150 4850 30  0000 C CNN
	1    4150 4850
	1    0    0    -1  
$EndComp
$Comp
L SW_PUSH SW101
U 1 1 64F48942
P 4700 5200
F 0 "SW101" H 4850 5310 50  0000 C CNN
F 1 "SW_PUSH" H 4700 5120 50  0000 C CNN
F 2 "Buttons_Switches_ThroughHole:SW_PUSH_6mm" H 4700 5200 60  0001 C CNN
F 3 "" H 4700 5200 60  0000 C CNN
	1    4700 5200
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR09
U 1 1 64F4898F
P 5000 5200
F 0 "#PWR09" H 5000 5200 30  0001 C CNN
F 1 "GND" H 5000 5130 30  0001 C CNN
F 2 "" H 5000 5200 60  0001 C CNN
F 3 "" H 5000 5200 60  0001 C CNN
	1    5000 5200
	1    0    0    -1  
$EndComp
Text GLabel 4150 4600 0    60   Input ~ 0
3v3
Wire Wire Line
	4400 5200 4150 5200
Wire Wire Line
	4150 5200 4150 5100
Text GLabel 4150 5200 0    60   Output ~ 0
BTN
Text GLabel 6300 1500 2    60   Output ~ 0
SCL
Text GLabel 6250 2100 2    60   BiDi ~ 0
SDA
Wire Wire Line
	6300 1350 6200 1350
Wire Wire Line
	6200 1350 6200 1500
Wire Wire Line
	6200 1500 6300 1500
Wire Wire Line
	6000 1400 6200 1400
Connection ~ 6200 1400
Wire Wire Line
	6250 1950 6150 1950
Wire Wire Line
	6150 1950 6150 2100
Wire Wire Line
	6150 2100 6250 2100
Wire Wire Line
	6000 2000 6150 2000
Connection ~ 6150 2000
$Comp
L CONN_4 P102
U 1 1 64F4CCD9
P 9000 1900
F 0 "P102" V 8950 1900 50  0000 C CNN
F 1 "I2C" V 9050 1900 50  0000 C CNN
F 2 "Pin_Headers:Pin_Header_Straight_1x04" H 9000 1900 60  0001 C CNN
F 3 "" H 9000 1900 60  0001 C CNN
	1    9000 1900
	1    0    0    -1  
$EndComp
Text GLabel 8150 1200 0    60   Input ~ 0
3v3
$Comp
L R R107
U 1 1 64F4CE62
P 8450 1450
F 0 "R107" V 8530 1450 40  0000 C CNN
F 1 "10K" V 8457 1451 40  0000 C CNN
F 2 "Resistors_SMD:R_0805_HandSoldering" V 8380 1450 30  0001 C CNN
F 3 "" H 8450 1450 30  0000 C CNN
	1    8450 1450
	1    0    0    -1  
$EndComp
$Comp
L R R102
U 1 1 64F4CEF1
P 8350 1450
F 0 "R102" V 8430 1450 40  0000 C CNN
F 1 "10K" V 8357 1451 40  0000 C CNN
F 2 "Resistors_SMD:R_0805_HandSoldering" V 8280 1450 30  0001 C CNN
F 3 "" H 8350 1450 30  0000 C CNN
	1    8350 1450
	1    0    0    -1  
$EndComp
Wire Wire Line
	8150 1200 8550 1200
Connection ~ 8350 1200
Wire Wire Line
	8550 1200 8550 2050
Connection ~ 8450 1200
Text GLabel 8100 1850 0    60   Input ~ 0
SCL
Text GLabel 8100 1750 0    60   BiDi ~ 0
SDA
Wire Wire Line
	8100 1750 8650 1750
Wire Wire Line
	8100 1850 8650 1850
Wire Wire Line
	8450 1700 8450 1850
Connection ~ 8450 1850
Wire Wire Line
	8350 1700 8350 1750
Connection ~ 8350 1750
Wire Wire Line
	8550 2050 8650 2050
$EndSCHEMATC
